2. 클래스 관계와 UML
---------------------

--------------------
_해당 장  부터는 uml로 표시하는 방법에 대해 나올 것 같은데, 저작권상 이미지를 올릴 수는 없고 적당히 표현하도록 하겠읍니다;;_

_그리고 여기서는 한번에 보는게 좋을 것 같아서 한 파일에 작성하도록 하겠습니다._

_예제는 예제일 뿐! 코드 적은 부분은 대략적인 것을 나타낸 것이기 때문에 달라질 구도 있다._

-------------
### 클래스와 UML
 -  클래스: 변화의 기본 단위(어떤것이 변화하는지 잘 봐야 한다.)
 - UML 클래스: [클래스 이름| 속성(특징) | 연산(책임)]의 구조를 가진다.
 - 부모 클래스는 공통 속성이나 연산을 제공하는 틀이다.

### 일반화(generalization) 혹은 상속
 - __일반화된 사물과 특수화된 사물과의 관계__
 - ([커피]<-[아이스 아메리카노])의 구조로 아이스 아메리카노가 커피를 상속한다
 - 화살표는 실선

 - super: 부모 클래스의 멤버변수를 참조할 때, 사용
 - super(): 생성자에서 부모클래스의 생성자를 불러 초기화 할때 사용

 - is a kind of 관계
_화살표는 '자식->부모'로 표현한다._
_부모는 구현클래스 인 것 같다. 구현에서는 부모는 인터페이스!_

### 구현(realization)
 - __인터페이스와 실제로 구현한 사물과의 관계__
 - ([<<인터페이스>>커피]<---[아.아.])의 구조
 - 화살표는 점선

### 연관(association)
 - __한 사물의 객체가 다른 사물의 객체와 연결되어 있음__
 - 클래스들이 개념상 서로 연결 됨
 - 한 클래스가 다른 클래스의 기능을 사용하는 상황
 - ([바리스타]->[커피머신])의 구조
 - 화살표는 실선
 - 바리스타에서 에스프레소 커피 머신을 멤버변수로 생성
 ~~~
  public class 한 클래스{
    private 다른 클래스 a;
    ```
    public void class set다른클래스(다른클래스 x){
      this.a = x;
    }
  }
 ~~~
 - 이 객체들을 사용하는 클래스(보통 메인)에서 new를 통해 커피머신 객체 생성 후 바리스타에게 set으로 넘겨준다.

_main같이 객체를 생성하는 곳에서 만들어서 넘겨줘야만 하는건가? 객체 내에서 객체 인스턴스를 만들게 된다면...? swift의 경우 이런 문제로 weak 엔티티나 이런걸 썼었는데 가능할 것 같기도 하다. => 합성부분 보세요_

### 집합(aggregation)
  - __전체와 부분간의 관계를 표현__
  - 속이 빈 다이아몬드 사용
  - ([카페라떼]◇-[에스프레소],[우유])의 구조로 전체◇-부분의 구조이다.
  - 전체 객체의 라이프타임과 부분 객체의 라이프 타임은 독립적이다.
_즉, 카페라떼가 없어진다고 해서 우유가 사라지는 것은 아니다._
  - 전체 클래스에서 부분 클래스를 멤버변수로 선언한다.
  ~~~
    public class 전체 클래스{
      private 부분클래스1 a;
      private 부분클래스2 b;

      //외부에서 인스턴스를 만들어 여기에 뿌려준다.
      public void class set부분클래스1(부분클래스1 x){
        this.a = x;
      }
      public void class set부분클래스2(부분클래스2 x){
        this.b = x;
      }

    }
  ~~~
_외부에서 객체를 만들기 때문에 독립적이구나_

### 합성(composition)
  - __전체와 부분관의 관계를 표현__
  - 속이 찬 다이아몬드 사용
  - ([카페라떼]◆-[에스프레소],[우유])의 구조로 전체◆-부분의 구조이다.
  - 전체 객체의 라이프타임과 부분 객체의 라이프 타임은 의존적이다.
_즉, 카페라떼가 사라지면 우유도 사라진다._
  - 전체 클래스에서 부분 클래스의 멤버변수를 선언하고 인스턴스화 시킨다.
  ~~~
  public class 전체 클래스{
    private 부분클래스1 a = new 부분클래스1();
    private 부분클래스2 b = new 부분클래스2();
  }
  ~~~
_내부에서 객체를 만들기 때문에 의존적이구나_

### 의존(dependency)
  - __한 사물이 변경되면 이것을 사용하는 다른 사물에 영향을 미친다.__
  - 연관관계와 같이 한 클래스가 다른 클래스가 제공하는 기능을 사용한다.
  - 차이점은 두 클래스의 관계가 한 메서드를 실행하는 동안과 같은 매우 짧은 시간만 유지된다는 점이다.
  - 화살표는 실선 점선...?
_책이랑 블로그랑 다름... ->점선인듯_

1. 리턴값 의존
  - ([바리스타]--->[아.아.])
  - 바리스타의 한 메소드의 반환값이 아.아. 타입
  ~~~
    public class 바리스타{
      public 한메소드(){
        아.아. a = this.아아.메소드();

        return a;//아.아.에 따라 리턴값 바뀜
      }
    }
  ~~~

2. 함수인자값 의존
  - ([커피머신]--->[커피콩])
  - 커피머신의 한 메소드의 인자가 커피콩
  ~~~
    public class 커피머신{
      public 한메소드(커피콩 a){
        //인자로 커피콩이 들어옴
      }
    }
  ~~~
3. 지역변수값 의존
  - ([바리스타]--->[우유])
  - 한 메소드의 연산에서 우유가 영향을 미침
  ~~~
    public class 바리스타{
      public 한메소드(){
        우유 a = new 우유()
        //a 어쩌구

        // 우유 타입의 지역변수값에 의존
      }
    }
  ~~~

_연관관계는 (자동차-소유자)인 관계이고 의존관계는 (자동차-주유기)의 관계이다._

----------------
##### '자바 디자인 패턴' 외의 레퍼런스
- [UML 다이어그램 작성법](https://gmlwjd9405.github.io/2018/07/04/class-diagram.html)
